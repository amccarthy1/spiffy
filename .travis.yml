language: go
sudo: false

notifications:
  slack:
    rooms:
      - blend:wni8iXGkdYpw6JTIH0V8o4Fq#connectivity-devs
    on_success: change
    on_failure: always

services:
  - postgresql

before_script:
  - psql -c 'create database travis_ci_test;' -U postgres
  - go get -u github.com/lib/pq
  - go get -u github.com/blendlabs/go-assert
  - go get -u github.com/blendlabs/go-exception

script: 
  - DB_SCHEMA=travis_ci_test go test
